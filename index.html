<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizQuest - Educational Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>QuizQuest</h1>
    </header>
    
    <main>
        <!-- Welcome Screen -->
        <div class="screen active" id="welcome-screen">
            <div class="card center">
                <h2>Welcome to QuizQuest!</h2>
                <p>Test your knowledge and compete with friends in this educational game.</p>
                <div class="flex">
                    <button id="single-player-btn">Single Player</button>
                    <button id="create-game-btn" class="secondary">Create Game</button>
                    <button id="join-game-btn" class="tertiary">Join Game</button>
                    <button id="how-to-play-btn" class="neutral">How to Play</button>
                </div>
            </div>
        </div>
        
        <!-- How to Play Screen -->
        <div class="screen" id="how-to-play-screen">
            <div class="card">
                <h2 class="center">How to Play</h2>
                <ol>
                    <li>Choose your character</li>
                    <li>Select a question set</li>
                    <li>Answer questions correctly to earn points</li>
                    <li>The faster you answer, the more points you get</li>
                    <li>Try to climb the leaderboard!</li>
                </ol>
                <h3>Multiplayer</h3>
                <ol>
                    <li>Create a game or join using a game code</li>
                    <li>Wait for all players to join</li>
                    <li>The host will start the game when everyone is ready</li>
                    <li>Answer quickly to get more points than your friends!</li>
                </ol>
                <div class="center">
                    <button id="how-to-play-back-btn">Back</button>
                </div>
            </div>
        </div>
        
        <!-- Character Selection Screen -->
        <div class="screen" id="character-select-screen">
            <div class="card">
                <h2 class="center">Choose Your Character</h2>
                <div class="flex">
                    <div class="character" style="background-color: #4a3aff;" data-character="wizard">üßô</div>
                    <div class="character" style="background-color: #ff6b6b;" data-character="astronaut">üë®‚ÄçüöÄ</div>
                    <div class="character" style="background-color: #38b2ac;" data-character="scientist">üë©‚Äçüî¨</div>
                    <div class="character" style="background-color: #f6ad55;" data-character="athlete">üèÉ</div>
                </div>
                <div class="center">
                    <button id="character-back-btn">Back</button>
                </div>
            </div>
        </div>
        
        <!-- Game Setup Screen -->
        <div class="screen" id="game-setup-screen">
            <div class="card">
                <h2 class="center">Game Setup</h2>
                <form id="game-setup-form">
                    <label for="player-name">Your Name:</label>
                    <input type="text" id="player-name" required>
                    
                    <label for="question-set">Question Set:</label>
                    <select id="question-set" required>
                        <option value="general">General Knowledge</option>
                        <option value="science">Science</option>
                        <option value="history">History</option>
                        <option value="math">Mathematics</option>
                    </select>
                    
                    <label for="difficulty">Difficulty:</label>
                    <select id="difficulty" required>
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                    
                    <div class="center">
                        <button type="submit">Start Quiz</button>
                        <button type="button" class="secondary" id="setup-back-btn">Back</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Create Game Screen -->
        <div class="screen" id="create-game-screen">
            <div class="card">
                <h2 class="center">Create Multiplayer Game</h2>
                <form id="create-game-form">
                    <label for="host-name">Your Name:</label>
                    <input type="text" id="host-name" required>
                    
                    <label for="mp-question-set">Question Set:</label>
                    <select id="mp-question-set" required>
                        <option value="general">General Knowledge</option>
                        <option value="science">Science</option>
                        <option value="history">History</option>
                        <option value="math">Mathematics</option>
                    </select>
                    
                    <label for="mp-difficulty">Difficulty:</label>
                    <select id="mp-difficulty" required>
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                    
                    <div class="center">
                        <button type="submit">Create Game</button>
                        <button type="button" class="secondary" id="create-game-back-btn">Back</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Join Game Screen -->
        <div class="screen" id="join-game-screen">
            <div class="card">
                <h2 class="center">Join Multiplayer Game</h2>
                <form id="join-game-form">
                    <label for="join-name">Your Name:</label>
                    <input type="text" id="join-name" required>
                    
                    <label for="game-code">Game Code:</label>
                    <input type="text" id="game-code" required placeholder="Enter 6-digit code">
                    
                    <div class="center">
                        <button type="submit">Join Game</button>
                        <button type="button" class="secondary" id="join-game-back-btn">Back</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Game Lobby Screen -->
        <div class="screen" id="game-lobby-screen">
            <div class="card">
                <h2 class="center">Game Lobby</h2>
                <div class="game-code-display">
                    <h3>Game Code:</h3>
                    <div id="lobby-game-code" class="code-box">ABCDEF</div>
                    <button id="copy-code-btn" class="small-btn">Copy</button>
                </div>
                
                <div class="player-list-container">
                    <h3>Players:</h3>
                    <div id="lobby-player-list" class="player-list">
                        <!-- Player list will be populated here -->
                    </div>
                </div>
                
                <div class="lobby-info">
                    <p>Question Set: <span id="lobby-question-set">General Knowledge</span></p>
                    <p>Difficulty: <span id="lobby-difficulty">Medium</span></p>
                </div>
                
                <div id="host-controls" class="center host-only">
                    <button id="start-game-btn" class="primary-btn">Start Game</button>
                    <button id="cancel-game-btn" class="secondary-btn">Cancel Game</button>
                </div>
                
                <div id="player-waiting" class="center player-only">
                    <p>Waiting for host to start the game...</p>
                    <button id="leave-game-btn" class="secondary-btn">Leave Game</button>
                </div>
            </div>
        </div>
        
        <!-- Quiz Screen -->
        <div class="screen" id="quiz-screen">
            <div class="stats">
                <div>Question: <span id="question-number">1</span>/<span id="total-questions">10</span></div>
                <div>Score: <span id="score">0</span></div>
            </div>
            
            <div class="timer" id="timer">10</div>
            
            <div class="progress-bar">
                <div class="progress-bar-fill" id="progress-bar-fill"></div>
            </div>
            
            <div class="card">
                <h3 id="question-text">Question text goes here?</h3>
                
                <div id="options-container">
                    <!-- Options will be generated here -->
                </div>
                
                <div class="feedback" id="feedback"></div>
            </div>
            
            <!-- Multiplayer live scoreboard (shown in multiplayer mode) -->
            <div id="live-scoreboard" class="card">
                <h3 class="center">Live Scores</h3>
                <div id="live-player-scores">
                    <!-- Live scores will be populated here -->
                </div>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div class="screen" id="results-screen">
            <div class="card">
                <h2 class="center">Quiz Complete!</h2>
                <div class="stats">
                    <div>Final Score: <span id="final-score">0</span></div>
                    <div>Correct Answers: <span id="correct-answers">0</span>/<span id="results-total-questions">10</span></div>
                </div>
                
                <h3>Leaderboard</h3>
                <div id="leaderboard">
                    <!-- Leaderboard will be populated here -->
                </div>
                
                <div class="center">
                    <button id="play-again-btn">Play Again</button>
                    <button id="return-to-lobby-btn" class="multiplayer-only">Return to Lobby</button>
                    <button class="secondary" id="home-btn">Home</button>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <p>QuizQuest - Educational Game &copy; 2025</p>
    </footer>
    
    <!-- Firebase SDKs (compat version) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>
    
    <!-- Your Firebase Config -->
    <script src="firebase-config.js"></script>
    
    <!-- Your Game Scripts -->
    <script src="questions.js"></script>
    <script src="multiplayer.js"></script>
    <script src="script.js"></script>
</body>
</html>